{"version":3,"sources":["images/profile__edit.svg","images/profile__add.svg","images/header__logo.svg","images/profile__photo.png","components/utils/Api.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/PopupWithImage.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/RemoveCardPopup.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","api","options","this","_options","_url","baseUrl","_token","headers","authorization","_path","user","cards","avatar","path","method","body","fetch","JSON","stringify","then","res","ok","json","Promise","reject","status","_fetch","newName","newAbout","name","about","newImageUrl","link","cardId","Header","props","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardRemove","currentUser","useContext","onClick","owner","_id","likes","some","item","title","map","join","length","Main","onEditAvatar","onEditProfile","onAddPlace","children","imgEdit","imgAdd","key","Footer","Popup","closeOnEsc","useCallback","evt","onClose","closeOnClickByOverlay","target","classList","contains","useEffect","isOpen","document","addEventListener","removeEventListener","type","PopupWithImage","PopupWithForm","onSubmit","EditAvatarPopup","onUpdateAvatar","inputAvatar","useRef","useState","isLoading","setIsLoading","e","preventDefault","current","value","htmlFor","ref","id","placeholder","required","validationMessage","EditProfilePopup","isFormValid","inputValues","setInputValues","isValid","handleInputChange","Object","keys","onUpdateUser","minLength","maxLength","onChange","disabled","AddPlacePopup","location","image","RemoveCardPopup","onDeleteCard","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isRemoveCardPopupOpen","setIsRemoveCardPopupOpen","isViewCardPopupOpen","setIsViewCardPopupOpen","selectedCard","setSelectedCard","imgAvatar","setCurrentUser","setCards","closeAllPopups","getCards","result","catch","console","error","getCurrentUserInfo","Provider","i","setLikeCardOff","newCard","newCards","c","setLikeCardOn","obj","func","updateCurrentUserPhoto","response","finally","updateCurrentUserInfo","Math","random","addNewCard","removeCard","filter","Boolean","window","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.fb10dd50.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/profile__edit.58afbe73.svg\";","module.exports = __webpack_public_path__ + \"static/media/profile__add.bdfb8ebb.svg\";","module.exports = __webpack_public_path__ + \"static/media/header__logo.855a8c98.svg\";","module.exports = __webpack_public_path__ + \"static/media/profile__photo.62cf7cfc.png\";","class Api {\n  constructor(options) {\n    this._options = options;\n    this._url = options.baseUrl;\n    this._token = options.headers.authorization;\n    this._path = {\n      user: '/users/me',\n      cards: '/cards',\n      avatar: '/users/me/avatar',\n    };\n  }\n\n  _fetch(path, method = 'GET', body) {\n    return fetch(`${this._options.baseUrl}${path}`, {\n      headers: this._options.headers,\n      method: method,\n      body: JSON.stringify(body),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  getCurrentUserInfo() {\n    return this._fetch(this._path.user);\n  }\n\n  updateCurrentUserInfo(newName, newAbout) {\n    return this._fetch(this._path.user, 'PATCH', {\n      name: newName,\n      about: newAbout,\n    });\n  }\n\n  updateCurrentUserPhoto(newImageUrl) {\n    return this._fetch(this._path.avatar, 'PATCH', {\n      avatar: newImageUrl,\n    });\n  }\n\n  getCards() {\n    return this._fetch(this._path.cards);\n  }\n\n  addNewCard(name, link) {\n    return this._fetch(this._path.cards, 'POST', {\n      name: name,\n      link: link,\n    });\n  }\n\n  removeCard(cardId) {\n    return this._fetch(`${this._path.cards}/${cardId}`, 'DELETE');\n  }\n\n  setLikeCardOn(cardId) {\n    return this._fetch(`${this._path.cards}/likes/${cardId}`, 'PUT');\n  }\n\n  setLikeCardOff(cardId) {\n    return this._fetch(`${this._path.cards}/likes/${cardId}`, 'DELETE');\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n  headers: {\n    authorization: '23bbe762-c214-4ce4-b9fd-b26b33fa43ee',\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","import React from 'react';\r\n\r\nexport default function Header(props) {\r\n  return (\r\n    <header className='header'>\r\n      <img src={props.logo} alt='Логотип' className='header__logo' />\r\n    </header>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nexport default function Card({ card, onCardClick, onCardLike, onCardRemove }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  return (\r\n    <li className='elements__element'>\r\n      <img src={card.link} alt={card.name} className='elements__image' onClick={handleClick} />\r\n      {card.owner._id === currentUser._id ? (\r\n        <button className='elements__remove' onClick={() => onCardRemove(card)}></button>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <div className='elements__caption'>\r\n        <p className='elements__title'>{card.name}</p>\r\n        <div className='elements__like'>\r\n          <button\r\n            className={`elements__like-button ${\r\n              card.likes.some((item) => item._id === currentUser._id) ? 'elements__like-button_active' : ''\r\n            }`}\r\n            onClick={handleLikeClick}\r\n            title={card.likes.map((user) => user.name).join(', ')}\r\n          ></button>\r\n          <p className='elements__like-counter'>{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Card from './Card';\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nimport imgEdit from '../images/profile__edit.svg';\r\nimport imgAdd from '../images/profile__add.svg';\r\n\r\nexport default function Main({\r\n  cards,\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardRemove,\r\n  children,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      <section className='profile'>\r\n        <div className='profile__photo-overlay' onClick={onEditAvatar}>\r\n          <img src={currentUser.avatar} alt='Фото профиля' className='profile__photo' />\r\n        </div>\r\n        <div className='profile__info'>\r\n          <div className='profile__title'>\r\n            <h1 className='profile__name'>{currentUser.name}</h1>\r\n            <button className='profile__edit-btn' onClick={onEditProfile}>\r\n              <img src={imgEdit} alt='Редактировать' className='profile__edit-img' />\r\n            </button>\r\n          </div>\r\n          <p className='profile__status'>{currentUser.about}</p>\r\n        </div>\r\n        <button className='profile__add-btn' onClick={onAddPlace}>\r\n          <img src={imgAdd} alt='Добавить' className='profile__add-img' />\r\n        </button>\r\n      </section>\r\n      <ul className='elements'>\r\n        {cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={onCardClick}\r\n            onCardLike={onCardLike}\r\n            onCardRemove={onCardRemove}\r\n          />\r\n        ))}\r\n      </ul>\r\n      {children}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__copyright'>&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nfunction Popup(props) {\r\n  const closeOnEsc = React.useCallback((evt) => {\r\n    if (evt.key === 'Escape') props.onClose();\r\n  }, []);\r\n\r\n  const closeOnClickByOverlay = React.useCallback((evt) => {\r\n    if (evt.target.classList.contains('popup')) props.onClose();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (props.isOpen === true) {\r\n      document.addEventListener('keydown', closeOnEsc);\r\n      document.addEventListener('mousedown', closeOnClickByOverlay);\r\n    } else {\r\n      document.removeEventListener('keydown', closeOnEsc);\r\n      document.removeEventListener('mousedown', closeOnClickByOverlay);\r\n    }\r\n  }, [props, closeOnEsc, closeOnClickByOverlay]);\r\n\r\n  return (\r\n    <div>\r\n      <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\r\n        <div className='popup__container'>\r\n          <button type='button' className='popup__close' onClick={props.onClose}></button>\r\n          {props.children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popup;\r\n","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\nexport default function PopupWithImage(props) {\r\n  return (\r\n    <Popup isOpen={props.isOpen} onClose={props.onClose}>\r\n      <figure className='popup__figure'>\r\n        <img\r\n          src={props.card ? props.card.link : '#'}\r\n          alt={props.card ? props.card.name : ''}\r\n          className='popup__image'\r\n        />\r\n        <figcaption className='popup__caption'>{props.card ? props.card.name : ''}</figcaption>\r\n      </figure>\r\n    </Popup>\r\n  );\r\n}\r\n","import React from 'react';\nimport Popup from './Popup';\n\nexport default function PopupWithForm(props) {\n  return (\n    <Popup isOpen={props.isOpen} onClose={props.onClose}>\n      <form className='popup__form popup__form_edit-profile' name='edit-profile' onSubmit={props.onSubmit}>\n        <h2 className='popup__heading'>{props.title}</h2>\n        {props.children}\n      </form>\n    </Popup>\n  );\n}\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n// import { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditAvatarPopup({ onUpdateAvatar, ...props }) {\r\n  // const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const inputAvatar = React.useRef();\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar(\r\n      {\r\n        avatar: inputAvatar.current.value,\r\n      },\r\n      setIsLoading\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title='Обновить аватар' name='update-avatar' {...props} onSubmit={handleSubmit}>\r\n      <label htmlFor='input-update-avatar' className='popup__field'>\r\n        <input\r\n          ref={inputAvatar}\r\n          type='url'\r\n          name='avatar'\r\n          id='input-update-avatar'\r\n          placeholder='Ссылка на картинку'\r\n          className='popup__input popup__input_field_avatar'\r\n          required\r\n        />\r\n        <span className='popup__input-error' id='input-update-avatar-error'>\r\n          {inputAvatar.current && inputAvatar.current.validationMessage}\r\n        </span>\r\n      </label>\r\n      <button type='submit' className='popup__save'>\r\n        {isLoading ? 'Сохранение...' : 'Сохранить'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // const [name, setName] = React.useState('');\r\n  // const [description, setDescription] = React.useState('');\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const [inputValues, setInputValues] = React.useState({\r\n    name: { value: '', validationMessage: true },\r\n    about: { value: '', validationMessage: true },\r\n    isFormValid: false,\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    // setName(currentUser.name);\r\n    // setDescription(currentUser.about);\r\n\r\n    setInputValues({\r\n      ...inputValues,\r\n      name: {\r\n        value: currentUser.name,\r\n        validationMessage: '',\r\n        isValid: true,\r\n      },\r\n      about: {\r\n        value: currentUser.about,\r\n        validationMessage: '',\r\n        isValid: true,\r\n      },\r\n      isFormValid: true,\r\n    });\r\n  }, [currentUser]);\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValues({\r\n      ...inputValues,\r\n      [e.target.name]: {\r\n        value: e.target.value,\r\n        validationMessage: e.target.validationMessage,\r\n        isValid: !e.target.validationMessage,\r\n      },\r\n      isFormValid:\r\n        !e.target.validationMessage &&\r\n        !Object.keys(inputValues).some((key) => {\r\n          if (key !== e.target.name && key !== 'isFormValid') {\r\n            return inputValues[key].validationMessage;\r\n          }\r\n          return false;\r\n        }),\r\n    });\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser(\r\n      {\r\n        name: inputValues.name.value,\r\n        about: inputValues.about.value,\r\n      },\r\n      setIsLoading\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title='Редактировать профиль' name='edit-profile' {...props} onSubmit={handleSubmit}>\r\n      <label htmlFor='input-profile-name' className='popup__field'>\r\n        <input\r\n          type='text'\r\n          name='name'\r\n          id='input-profile-name'\r\n          className='popup__input popup__input_field_name'\r\n          required\r\n          minLength='2'\r\n          maxLength='40'\r\n          value={inputValues.name.value}\r\n          onChange={handleInputChange}\r\n        />\r\n        <span className='popup__input-error' id='input-profile-name-error'>\r\n          {inputValues.name.validationMessage}\r\n        </span>\r\n      </label>\r\n      <label htmlFor='input-profile-about' className='popup__field'>\r\n        <input\r\n          type='text'\r\n          name='about'\r\n          id='input-profile-about'\r\n          className='popup__input popup__input_field_about'\r\n          required\r\n          minLength='2'\r\n          maxLength='200'\r\n          value={inputValues.about.value}\r\n          onChange={handleInputChange}\r\n        />\r\n        <span className='popup__input-error' id='input-profile-about-error'>\r\n          {inputValues.about.validationMessage}\r\n        </span>\r\n      </label>\r\n      <button type='submit' className='popup__save' disabled={!inputValues.isFormValid}>\r\n        {isLoading ? 'Сохранение...' : 'Сохранить'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [inputValues, setInputValues] = React.useState({\r\n    location: { value: '', validationMessage: true },\r\n    image: { value: '', validationMessage: true },\r\n    isFormValid: false,\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValues({\r\n      ...inputValues,\r\n      [e.target.name]: {\r\n        value: e.target.value,\r\n        validationMessage: e.target.validationMessage,\r\n        isValid: !e.target.validationMessage,\r\n      },\r\n      isFormValid:\r\n        !e.target.validationMessage &&\r\n        !Object.keys(inputValues).some((key) => {\r\n          if (key !== e.target.name && key !== 'isFormValid') {\r\n            return inputValues[key].validationMessage;\r\n          }\r\n          return false;\r\n        }),\r\n    });\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace(\r\n      {\r\n        name: inputValues.location.value,\r\n        link: inputValues.image.value,\r\n      },\r\n      setIsLoading\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title='Новое место' name='add-card' {...props} onSubmit={handleSubmit}>\r\n      <label htmlFor='input-addcard-location' className='popup__field'>\r\n        <input\r\n          type='text'\r\n          name='location'\r\n          id='input-addcard-location'\r\n          placeholder='Название'\r\n          className='popup__input popup__input_field_location'\r\n          required\r\n          minLength='1'\r\n          maxLength='30'\r\n          value={inputValues.location.value}\r\n          onChange={handleInputChange}\r\n        />\r\n        <span className='popup__input-error' id='input-addcard-location-error'>\r\n          {inputValues.location.validationMessage}\r\n        </span>\r\n      </label>\r\n      <label htmlFor='input-addcard-image' className='popup__field'>\r\n        <input\r\n          type='url'\r\n          name='image'\r\n          id='input-addcard-image'\r\n          placeholder='Ссылка на картинку'\r\n          className='popup__input popup__input_field_image'\r\n          value={inputValues.image.value}\r\n          onChange={handleInputChange}\r\n          required\r\n        />\r\n        <span className='popup__input-error' id='input-addcard-image-error'>\r\n          {inputValues.image.validationMessage}\r\n        </span>\r\n      </label>\r\n      <button type='submit' className='popup__save' disabled={!inputValues.isFormValid}>\r\n        {isLoading ? 'Создание...' : 'Создать'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction RemoveCardPopup(props) {\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onDeleteCard(setIsLoading);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title='Вы уверены?' name='remove-card' {...props} onSubmit={handleSubmit}>\r\n      <button type='submit' className='popup__save'>\r\n        {isLoading ? 'Удаление...' : 'Да'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default RemoveCardPopup;\r\n","import React from 'react';\n\nimport api from './components/utils/Api';\nimport Header from './components/Header';\nimport Main from './components/Main';\nimport Footer from './components/Footer';\nimport PopupWithImage from './components/PopupWithImage';\nimport EditAvatarPopup from './components/EditAvatarPopup';\nimport EditProfilePopup from './components/EditProfilePopup';\nimport AddPlacePopup from './components/AddPlacePopup';\nimport RemoveCardPopup from './components/RemoveCardPopup';\n\nimport { CurrentUserContext } from './contexts/CurrentUserContext.js';\n\nimport './App.css';\nimport logo from './images/header__logo.svg';\nimport imgAvatar from './images/profile__photo.png';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isRemoveCardPopupOpen, setIsRemoveCardPopupOpen] = React.useState(false);\n  const [isViewCardPopupOpen, setIsViewCardPopupOpen] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState({ name: '', about: '', avatar: imgAvatar });\n  // const currentUser = React.createContext();\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    // setInterval(getCards, 10000);\n    getCards();\n  }, []);\n\n  function getCards() {\n    api\n      .getCards()\n      .then((result) => {\n        setCards(result);\n      })\n      .catch(() => {\n        console.error('can`t get userInfo');\n      });\n  }\n\n  React.useEffect(() => {\n    api\n      .getCurrentUserInfo()\n      .then((result) => {\n        setCurrentUser(result);\n      })\n      .catch(() => {\n        console.error('can`t get userInfo');\n      });\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsRemoveCardPopupOpen(false);\n    setIsViewCardPopupOpen(false);\n    setSelectedCard();\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsViewCardPopupOpen(true);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    if (isLiked) {\n      return api\n        .setLikeCardOff(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n          setCards(newCards);\n        })\n        .catch(() => {\n          console.error('can`t unset like');\n        });\n    } else {\n      return api\n        .setLikeCardOn(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n          setCards(newCards);\n        })\n        .catch(() => {\n          console.error('can`t set like');\n        });\n    }\n  }\n\n  function handleCardRemove(card) {\n    setSelectedCard(card);\n    setIsRemoveCardPopupOpen(true);\n  }\n\n  function handleOnDeleteCard(func) {\n    func(true);\n    api\n      .removeCard(selectedCard._id)\n      .then(() => {\n        setCards(cards.filter((card) => card._id !== selectedCard._id));\n        closeAllPopups();\n      })\n      .catch(() => {\n        console.error('can`t delete cards');\n      })\n      .finally(() => {\n        func(false);\n      });\n  }\n\n  function handleUpdateUser(obj, func) {\n    func(true);\n    api\n      .updateCurrentUserInfo(obj.name, obj.about)\n      .then((response) => {\n        setCurrentUser(response);\n        closeAllPopups();\n      })\n      .catch(() => {\n        console.error('can`t update userinfo');\n      })\n      .finally(() => {\n        func(false);\n      });\n  }\n\n  function handleUpdateAvatar(obj, func) {\n    func(true);\n    api\n      .updateCurrentUserPhoto(obj.avatar)\n      .then((response) => {\n        setCurrentUser(response);\n        closeAllPopups();\n      })\n      .catch(() => {\n        console.error('can`t update user avatar');\n      })\n      .finally(() => {\n        func(false);\n      });\n  }\n\n  function handleAddPlaceSubmit(obj, func) {\n    func(true);\n    api\n      .addNewCard(obj.name, obj.link)\n      .then((response) => {\n        setCards([response, ...cards]);\n        closeAllPopups();\n      })\n      .catch(() => {\n        console.error('can`t add card');\n      })\n      .finally(() => {\n        func(false);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='content'>\n        <Header logo={logo} />\n\n        <Main\n          cards={cards}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardRemove={handleCardRemove}\n        >\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n          <AddPlacePopup\n            key={Math.random()}\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n\n          <RemoveCardPopup\n            card={selectedCard}\n            isOpen={isRemoveCardPopupOpen}\n            onClose={closeAllPopups}\n            onDeleteCard={handleOnDeleteCard}\n          />\n\n          <PopupWithImage card={selectedCard} isOpen={isViewCardPopupOpen} onClose={closeAllPopups}></PopupWithImage>\n        </Main>\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}