{"version":3,"sources":["images/profile__edit.svg","images/profile__add.svg","images/header__logo.svg","images/profile__photo.png","components/utils/Api.js","components/utils/Auth.js","contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/Popup.js","components/PopupWithImage.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/RemoveCardPopup.js","components/InfoTooltip.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","api","options","this","_options","_url","baseUrl","_token","headers","authorization","_path","user","cards","avatar","path","method","body","fetch","JSON","stringify","then","res","ok","json","Promise","reject","status","_fetch","newName","newAbout","name","about","newImageUrl","link","cardId","auth","default","signup","signin","localStorage","getItem","email","password","data","setItem","token","CurrentUserContext","React","createContext","Header","props","currentUser","useContext","useHistory","useLocation","className","src","logo","alt","onClick","console","log","exact","to","type","onLogoff","Card","card","onCardClick","onCardLike","onCardRemove","owner","_id","likes","some","item","title","map","join","length","Main","onEditAvatar","onEditProfile","onAddPlace","children","imgEdit","imgAdd","key","Footer","Register","onRegister","useState","isLoading","setIsLoading","value","validationMessage","isFormValid","inputValues","setInputValues","handleInputChange","e","target","isValid","Object","keys","onSubmit","preventDefault","htmlFor","id","required","onChange","placeholder","minLength","maxLength","disabled","Login","onLogin","ProtectedRoute","loggedIn","Popup","closeOnEsc","useCallback","evt","onClose","closeOnClickByOverlay","classList","contains","useEffect","isOpen","document","addEventListener","removeEventListener","PopupWithImage","PopupWithForm","EditAvatarPopup","onUpdateAvatar","inputAvatar","useRef","current","ref","EditProfilePopup","onUpdateUser","AddPlacePopup","location","image","RemoveCardPopup","onDeleteCard","InfoTooltip","isSuccess","width","height","viewBox","fill","xmlns","fillRule","clipRule","d","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isRemoveCardPopupOpen","setIsRemoveCardPopupOpen","isViewCardPopupOpen","setIsViewCardPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","infoTooltipStatus","setInfoTooltipStatus","isUserLoggedIn","setIsUserLoggedIn","selectedCard","setSelectedCard","imgAvatar","setCurrentUser","setCards","history","closeAllPopups","getCards","result","catch","error","checkCurrentToken","push","getCurrentUserInfo","err","Provider","removeItem","obj","func","finally","i","setLikeCardOff","newCard","newCards","c","setLikeCardOn","updateCurrentUserPhoto","response","updateCurrentUserInfo","Math","random","addNewCard","removeCard","filter","Boolean","window","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.f5045972.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/profile__edit.58afbe73.svg\";","module.exports = __webpack_public_path__ + \"static/media/profile__add.bdfb8ebb.svg\";","module.exports = __webpack_public_path__ + \"static/media/header__logo.855a8c98.svg\";","module.exports = __webpack_public_path__ + \"static/media/profile__photo.62cf7cfc.png\";","class Api {\n  constructor(options) {\n    this._options = options;\n    this._url = options.baseUrl;\n    this._token = options.headers.authorization;\n    this._path = {\n      user: '/users/me',\n      cards: '/cards',\n      avatar: '/users/me/avatar',\n    };\n  }\n\n  _fetch(path, method = 'GET', body) {\n    return fetch(`${this._options.baseUrl}${path}`, {\n      headers: this._options.headers,\n      method: method,\n      body: JSON.stringify(body),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  getCurrentUserInfo() {\n    return this._fetch(this._path.user);\n  }\n\n  updateCurrentUserInfo(newName, newAbout) {\n    return this._fetch(this._path.user, 'PATCH', {\n      name: newName,\n      about: newAbout,\n    });\n  }\n\n  updateCurrentUserPhoto(newImageUrl) {\n    return this._fetch(this._path.avatar, 'PATCH', {\n      avatar: newImageUrl,\n    });\n  }\n\n  getCards() {\n    return this._fetch(this._path.cards);\n  }\n\n  addNewCard(name, link) {\n    return this._fetch(this._path.cards, 'POST', {\n      name: name,\n      link: link,\n    });\n  }\n\n  removeCard(cardId) {\n    return this._fetch(`${this._path.cards}/${cardId}`, 'DELETE');\n  }\n\n  setLikeCardOn(cardId) {\n    return this._fetch(`${this._path.cards}/likes/${cardId}`, 'PUT');\n  }\n\n  setLikeCardOff(cardId) {\n    return this._fetch(`${this._path.cards}/likes/${cardId}`, 'DELETE');\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n  headers: {\n    authorization: '23bbe762-c214-4ce4-b9fd-b26b33fa43ee',\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","class Auth {\n  constructor(options) {\n    this._options = options;\n    this._url = options.baseUrl;\n    this._path = {\n      default: '/',\n      user: '/users/me',\n      signup: '/signup',\n      signin: '/signin',\n    };\n  }\n\n  _fetch(path, method = 'GET', body) {\n    return fetch(`${this._options.baseUrl}${path}`, {\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json',\n      },\n      method: method,\n      body: JSON.stringify(body),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  signin(email, password) {\n    return this._fetch(this._path.signin, 'POST', {\n      email: email,\n      password: password,\n    }).then((data) => {\n      localStorage.setItem('token', data.token);\n      return data;\n    });\n  }\n\n  signup(email, password) {\n    return this._fetch(this._path.signup, 'POST', {\n      email: email,\n      password: password,\n    });\n  }\n\n  checkCurrentToken() {\n    return this._fetch(this._path.user);\n  }\n}\n\nconst auth = new Auth({\n  // baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n  baseUrl: 'https://auth.nomoreparties.co',\n});\n\nexport default auth;\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\n\r\nimport { Route, Switch, Link, useLocation, useHistory } from 'react-router-dom';\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nexport default function Header(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n\r\n  let button = {};\r\n\r\n  return (\r\n    <header className='header'>\r\n      <img\r\n        src={props.logo}\r\n        alt='Логотип'\r\n        className='header__logo'\r\n        onClick={() => console.log(currentUser)}\r\n      />\r\n      <div className='header__menu'>\r\n        <Route exact path='/'>\r\n          <p className='header__current-email'>{currentUser.auth.email}</p>\r\n        </Route>\r\n        <Switch>\r\n          <Route path='/signin'>\r\n            <Link className='header__link' to='/signup'>\r\n              Регистрация\r\n            </Link>\r\n          </Route>\r\n          <Route path='/signup'>\r\n            <Link className='header__link' to='/signin'>\r\n              Вход\r\n            </Link>\r\n          </Route>\r\n          <Route exact path='/'>\r\n            <button\r\n              type='button'\r\n              className='header__link header__link_logoff'\r\n              onClick={props.onLogoff}\r\n            >\r\n              Выйти\r\n            </button>\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nexport default function Card({ card, onCardClick, onCardLike, onCardRemove }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  return (\r\n    <li className='elements__element'>\r\n      <img src={card.link} alt={card.name} className='elements__image' onClick={handleClick} />\r\n      {card.owner._id === currentUser._id ? (\r\n        <button className='elements__remove' onClick={() => onCardRemove(card)}></button>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <div className='elements__caption'>\r\n        <p className='elements__title'>{card.name}</p>\r\n        <div className='elements__like'>\r\n          <button\r\n            className={`elements__like-button ${\r\n              card.likes.some((item) => item._id === currentUser._id) ? 'elements__like-button_active' : ''\r\n            }`}\r\n            onClick={handleLikeClick}\r\n            title={card.likes.map((user) => user.name).join(', ')}\r\n          ></button>\r\n          <p className='elements__like-counter'>{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Card from './Card';\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nimport imgEdit from '../images/profile__edit.svg';\r\nimport imgAdd from '../images/profile__add.svg';\r\n\r\nexport default function Main({\r\n  cards,\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardRemove,\r\n  children,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      <section className='profile'>\r\n        <div className='profile__photo-overlay' onClick={onEditAvatar}>\r\n          <img src={currentUser.avatar} alt='Фото профиля' className='profile__photo' />\r\n        </div>\r\n        <div className='profile__info'>\r\n          <div className='profile__title'>\r\n            <h1 className='profile__name'>{currentUser.name}</h1>\r\n            <button className='profile__edit-btn' onClick={onEditProfile}>\r\n              <img src={imgEdit} alt='Редактировать' className='profile__edit-img' />\r\n            </button>\r\n          </div>\r\n          <p className='profile__status'>{currentUser.about}</p>\r\n        </div>\r\n        <button className='profile__add-btn' onClick={onAddPlace}>\r\n          <img src={imgAdd} alt='Добавить' className='profile__add-img' />\r\n        </button>\r\n      </section>\r\n      <ul className='elements'>\r\n        {cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={onCardClick}\r\n            onCardLike={onCardLike}\r\n            onCardRemove={onCardRemove}\r\n          />\r\n        ))}\r\n      </ul>\r\n      {children}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__copyright'>&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register({ onRegister, ...props }) {\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const [inputValues, setInputValues] = React.useState({\r\n    email: { value: '', validationMessage: true },\r\n    password: { value: '', validationMessage: true },\r\n    isFormValid: false,\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValues({\r\n      ...inputValues,\r\n      [e.target.name]: {\r\n        value: e.target.value,\r\n        validationMessage: e.target.validationMessage,\r\n        isValid: !e.target.validationMessage,\r\n      },\r\n      isFormValid:\r\n        !e.target.validationMessage &&\r\n        !Object.keys(inputValues).some((key) => {\r\n          if (key !== e.target.name && key !== 'isFormValid') {\r\n            return inputValues[key].validationMessage;\r\n          }\r\n          return false;\r\n        }),\r\n    });\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onRegister(\r\n      {\r\n        email: inputValues.email.value,\r\n        password: inputValues.password.value,\r\n      },\r\n      setIsLoading,\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section className='auth'>\r\n      <form className='auth__form auth__form_login' name='login' onSubmit={handleSubmit}>\r\n        <h2 className='auth__heading'>Регистрация</h2>\r\n        <label htmlFor='input-login-email' className='auth__field'>\r\n          <input\r\n            type='email'\r\n            name='email'\r\n            id='input-login-email'\r\n            className='auth__input auth__input_field_email'\r\n            required\r\n            value={inputValues.email.value}\r\n            onChange={handleInputChange}\r\n            placeholder='Email'\r\n          />\r\n          <span className='auth__input-error' id='input-login-email-error'>\r\n            {inputValues.email.validationMessage}\r\n          </span>\r\n        </label>\r\n        <label htmlFor='input-login-password' className='auth__field'>\r\n          <input\r\n            type='password'\r\n            name='password'\r\n            id='input-login-password'\r\n            className='auth__input auth__input_field_password'\r\n            required\r\n            minLength='2'\r\n            maxLength='200'\r\n            value={inputValues.password.value}\r\n            onChange={handleInputChange}\r\n            placeholder='Пароль'\r\n          />\r\n          <span className='auth__input-error' id='input-login-password-error'>\r\n            {inputValues.password.validationMessage}\r\n          </span>\r\n        </label>\r\n        <button type='submit' className='auth__submit' disabled={!inputValues.isFormValid}>\r\n          {isLoading ? 'Регистрация...' : 'Зарегистрироваться'}\r\n        </button>\r\n\r\n        <Link className='auth__link' to='/signin'>\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\n\r\nfunction Login({ onLogin, ...props }) {\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const [inputValues, setInputValues] = React.useState({\r\n    email: { value: '', validationMessage: true },\r\n    password: { value: '', validationMessage: true },\r\n    isFormValid: false,\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValues({\r\n      ...inputValues,\r\n      [e.target.name]: {\r\n        value: e.target.value,\r\n        validationMessage: e.target.validationMessage,\r\n        isValid: !e.target.validationMessage,\r\n      },\r\n      isFormValid:\r\n        !e.target.validationMessage &&\r\n        !Object.keys(inputValues).some((key) => {\r\n          if (key !== e.target.name && key !== 'isFormValid') {\r\n            return inputValues[key].validationMessage;\r\n          }\r\n          return false;\r\n        }),\r\n    });\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onLogin(\r\n      {\r\n        email: inputValues.email.value,\r\n        password: inputValues.password.value,\r\n      },\r\n      setIsLoading,\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section className='auth'>\r\n      <form className='auth__form auth__form_login' name='login' onSubmit={handleSubmit}>\r\n        <h2 className='auth__heading'>Вход</h2>\r\n        <label htmlFor='input-login-email' className='auth__field'>\r\n          <input\r\n            type='email'\r\n            name='email'\r\n            id='input-login-email'\r\n            className='auth__input auth__input_field_email'\r\n            required\r\n            value={inputValues.email.value}\r\n            onChange={handleInputChange}\r\n            placeholder='Email'\r\n          />\r\n          <span className='auth__input-error' id='input-login-email-error'>\r\n            {inputValues.email.validationMessage}\r\n          </span>\r\n        </label>\r\n        <label htmlFor='input-login-password' className='auth__field'>\r\n          <input\r\n            type='password'\r\n            name='password'\r\n            id='input-login-password'\r\n            className='auth__input auth__input_field_password'\r\n            required\r\n            minLength='2'\r\n            maxLength='200'\r\n            value={inputValues.password.value}\r\n            onChange={handleInputChange}\r\n            placeholder='Пароль'\r\n          />\r\n          <span className='auth__input-error' id='input-login-password-error'>\r\n            {inputValues.password.validationMessage}\r\n          </span>\r\n        </label>\r\n        <button type='submit' className='auth__submit' disabled={!inputValues.isFormValid}>\r\n          {isLoading ? 'Вход...' : 'Войти'}\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ children, ...props }) => {\r\n  return <Route>{() => (props.loggedIn ? children : <Redirect to='./signin' />)}</Route>;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\n\r\nfunction Popup(props) {\r\n  const closeOnEsc = React.useCallback((evt) => {\r\n    if (evt.key === 'Escape') props.onClose();\r\n  }, []);\r\n\r\n  const closeOnClickByOverlay = React.useCallback((evt) => {\r\n    if (evt.target.classList.contains('popup')) props.onClose();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (props.isOpen === true) {\r\n      document.addEventListener('keydown', closeOnEsc);\r\n      document.addEventListener('mousedown', closeOnClickByOverlay);\r\n    } else {\r\n      document.removeEventListener('keydown', closeOnEsc);\r\n      document.removeEventListener('mousedown', closeOnClickByOverlay);\r\n    }\r\n  }, [props, closeOnEsc, closeOnClickByOverlay]);\r\n\r\n  return (\r\n    <div>\r\n      <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\r\n        <div className='popup__container'>\r\n          <button type='button' className='popup__close' onClick={props.onClose}></button>\r\n          {props.children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popup;\r\n","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\nexport default function PopupWithImage(props) {\r\n  return (\r\n    <Popup isOpen={props.isOpen} onClose={props.onClose}>\r\n      <figure className='popup__figure'>\r\n        <img\r\n          src={props.card ? props.card.link : '#'}\r\n          alt={props.card ? props.card.name : ''}\r\n          className='popup__image'\r\n        />\r\n        <figcaption className='popup__caption'>{props.card ? props.card.name : ''}</figcaption>\r\n      </figure>\r\n    </Popup>\r\n  );\r\n}\r\n","import React from 'react';\nimport Popup from './Popup';\n\nexport default function PopupWithForm(props) {\n  return (\n    <Popup isOpen={props.isOpen} onClose={props.onClose}>\n      <form className='popup__form popup__form_edit-profile' name='edit-profile' onSubmit={props.onSubmit}>\n        <h2 className='popup__heading'>{props.title}</h2>\n        {props.children}\n      </form>\n    </Popup>\n  );\n}\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n// import { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditAvatarPopup({ onUpdateAvatar, ...props }) {\r\n  // const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const inputAvatar = React.useRef();\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar(\r\n      {\r\n        avatar: inputAvatar.current.value,\r\n      },\r\n      setIsLoading\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title='Обновить аватар' name='update-avatar' {...props} onSubmit={handleSubmit}>\r\n      <label htmlFor='input-update-avatar' className='popup__field'>\r\n        <input\r\n          ref={inputAvatar}\r\n          type='url'\r\n          name='avatar'\r\n          id='input-update-avatar'\r\n          placeholder='Ссылка на картинку'\r\n          className='popup__input popup__input_field_avatar'\r\n          required\r\n        />\r\n        <span className='popup__input-error' id='input-update-avatar-error'>\r\n          {inputAvatar.current && inputAvatar.current.validationMessage}\r\n        </span>\r\n      </label>\r\n      <button type='submit' className='popup__save'>\r\n        {isLoading ? 'Сохранение...' : 'Сохранить'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // const [name, setName] = React.useState('');\r\n  // const [description, setDescription] = React.useState('');\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const [inputValues, setInputValues] = React.useState({\r\n    name: { value: '', validationMessage: true },\r\n    about: { value: '', validationMessage: true },\r\n    isFormValid: false,\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    // setName(currentUser.name);\r\n    // setDescription(currentUser.about);\r\n\r\n    setInputValues({\r\n      ...inputValues,\r\n      name: {\r\n        value: currentUser.name,\r\n        validationMessage: '',\r\n        isValid: true,\r\n      },\r\n      about: {\r\n        value: currentUser.about,\r\n        validationMessage: '',\r\n        isValid: true,\r\n      },\r\n      isFormValid: true,\r\n    });\r\n  }, [currentUser]);\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValues({\r\n      ...inputValues,\r\n      [e.target.name]: {\r\n        value: e.target.value,\r\n        validationMessage: e.target.validationMessage,\r\n        isValid: !e.target.validationMessage,\r\n      },\r\n      isFormValid:\r\n        !e.target.validationMessage &&\r\n        !Object.keys(inputValues).some((key) => {\r\n          if (key !== e.target.name && key !== 'isFormValid') {\r\n            return inputValues[key].validationMessage;\r\n          }\r\n          return false;\r\n        }),\r\n    });\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser(\r\n      {\r\n        name: inputValues.name.value,\r\n        about: inputValues.about.value,\r\n      },\r\n      setIsLoading\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title='Редактировать профиль' name='edit-profile' {...props} onSubmit={handleSubmit}>\r\n      <label htmlFor='input-profile-name' className='popup__field'>\r\n        <input\r\n          type='text'\r\n          name='name'\r\n          id='input-profile-name'\r\n          className='popup__input popup__input_field_name'\r\n          required\r\n          minLength='2'\r\n          maxLength='40'\r\n          value={inputValues.name.value}\r\n          onChange={handleInputChange}\r\n        />\r\n        <span className='popup__input-error' id='input-profile-name-error'>\r\n          {inputValues.name.validationMessage}\r\n        </span>\r\n      </label>\r\n      <label htmlFor='input-profile-about' className='popup__field'>\r\n        <input\r\n          type='text'\r\n          name='about'\r\n          id='input-profile-about'\r\n          className='popup__input popup__input_field_about'\r\n          required\r\n          minLength='2'\r\n          maxLength='200'\r\n          value={inputValues.about.value}\r\n          onChange={handleInputChange}\r\n        />\r\n        <span className='popup__input-error' id='input-profile-about-error'>\r\n          {inputValues.about.validationMessage}\r\n        </span>\r\n      </label>\r\n      <button type='submit' className='popup__save' disabled={!inputValues.isFormValid}>\r\n        {isLoading ? 'Сохранение...' : 'Сохранить'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [inputValues, setInputValues] = React.useState({\r\n    location: { value: '', validationMessage: true },\r\n    image: { value: '', validationMessage: true },\r\n    isFormValid: false,\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValues({\r\n      ...inputValues,\r\n      [e.target.name]: {\r\n        value: e.target.value,\r\n        validationMessage: e.target.validationMessage,\r\n        isValid: !e.target.validationMessage,\r\n      },\r\n      isFormValid:\r\n        !e.target.validationMessage &&\r\n        !Object.keys(inputValues).some((key) => {\r\n          if (key !== e.target.name && key !== 'isFormValid') {\r\n            return inputValues[key].validationMessage;\r\n          }\r\n          return false;\r\n        }),\r\n    });\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace(\r\n      {\r\n        name: inputValues.location.value,\r\n        link: inputValues.image.value,\r\n      },\r\n      setIsLoading\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title='Новое место' name='add-card' {...props} onSubmit={handleSubmit}>\r\n      <label htmlFor='input-addcard-location' className='popup__field'>\r\n        <input\r\n          type='text'\r\n          name='location'\r\n          id='input-addcard-location'\r\n          placeholder='Название'\r\n          className='popup__input popup__input_field_location'\r\n          required\r\n          minLength='1'\r\n          maxLength='30'\r\n          value={inputValues.location.value}\r\n          onChange={handleInputChange}\r\n        />\r\n        <span className='popup__input-error' id='input-addcard-location-error'>\r\n          {inputValues.location.validationMessage}\r\n        </span>\r\n      </label>\r\n      <label htmlFor='input-addcard-image' className='popup__field'>\r\n        <input\r\n          type='url'\r\n          name='image'\r\n          id='input-addcard-image'\r\n          placeholder='Ссылка на картинку'\r\n          className='popup__input popup__input_field_image'\r\n          value={inputValues.image.value}\r\n          onChange={handleInputChange}\r\n          required\r\n        />\r\n        <span className='popup__input-error' id='input-addcard-image-error'>\r\n          {inputValues.image.validationMessage}\r\n        </span>\r\n      </label>\r\n      <button type='submit' className='popup__save' disabled={!inputValues.isFormValid}>\r\n        {isLoading ? 'Создание...' : 'Создать'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction RemoveCardPopup(props) {\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onDeleteCard(setIsLoading);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title='Вы уверены?' name='remove-card' {...props} onSubmit={handleSubmit}>\r\n      <button type='submit' className='popup__save'>\r\n        {isLoading ? 'Удаление...' : 'Да'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default RemoveCardPopup;\r\n","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\nexport default function InfoTooltip(props) {\r\n  return (\r\n    <Popup isOpen={props.isOpen} onClose={props.onClose}>\r\n      <div className='popup__tooltip'>\r\n        {props.isSuccess ? (\r\n          <svg\r\n            width='120'\r\n            height='120'\r\n            viewBox='0 0 120 120'\r\n            fill='none'\r\n            xmlns='http://www.w3.org/2000/svg'\r\n          >\r\n            <path\r\n              fillRule='evenodd'\r\n              clipRule='evenodd'\r\n              d='M117 60C117 91.4802 91.4802 117 60 117C28.5198 117 3 91.4802 3 60C3 28.5198 28.5198 3 60 3C91.4802 3 117 28.5198 117 60ZM120 60C120 93.1371 93.1371 120 60 120C26.8629 120 0 93.1371 0 60C0 26.8629 26.8629 0 60 0C93.1371 0 120 26.8629 120 60ZM57.5502 76.888L86.7676 48.888L81.2324 43.112L54.4277 68.7999L39.3496 57.8561L34.6504 64.3305L52.433 77.2372L55.1375 79.2001L57.5502 76.888Z'\r\n              fill='black'\r\n            />\r\n          </svg>\r\n        ) : (\r\n          <svg\r\n            width='120'\r\n            height='120'\r\n            viewBox='0 0 120 120'\r\n            fill='none'\r\n            xmlns='http://www.w3.org/2000/svg'\r\n          >\r\n            <path\r\n              fillRule='evenodd'\r\n              clipRule='evenodd'\r\n              d='M60 117C91.4802 117 117 91.4802 117 60C117 28.5198 91.4802 3 60 3C28.5198 3 3 28.5198 3 60C3 91.4802 28.5198 117 60 117ZM60 120C93.1371 120 120 93.1371 120 60C120 26.8629 93.1371 0 60 0C26.8629 0 0 26.8629 0 60C0 93.1371 26.8629 120 60 120ZM55.0503 60.707L36.6655 42.3223L42.3224 36.6654L60.7071 55.0502L78.3848 37.3726L84.0416 43.0294L66.364 60.707L83.3346 77.6776L77.6777 83.3345L60.7071 66.3639L43.0294 84.0416L37.3726 78.3848L55.0503 60.707Z'\r\n              fill='#FD0707'\r\n            />\r\n          </svg>\r\n        )}\r\n        <h2 className='popup__message'>\r\n          {props.isSuccess\r\n            ? 'Вы успешно зарегистрировались!'\r\n            : 'Что-то пошло не так! Попробуйте ещё раз'}\r\n        </h2>\r\n      </div>\r\n    </Popup>\r\n  );\r\n}\r\n","import React from 'react';\nimport { Route, Switch, useLocation, Link, useHistory } from 'react-router-dom';\n\nimport api from './components/utils/Api';\nimport auth from './components/utils/Auth';\n\nimport Header from './components/Header';\nimport Main from './components/Main';\nimport Footer from './components/Footer';\nimport Register from './components/Register';\nimport Login from './components/Login';\nimport ProtectedRoute from './components/ProtectedRoute';\n\nimport PopupWithImage from './components/PopupWithImage';\nimport EditAvatarPopup from './components/EditAvatarPopup';\nimport EditProfilePopup from './components/EditProfilePopup';\nimport AddPlacePopup from './components/AddPlacePopup';\nimport RemoveCardPopup from './components/RemoveCardPopup';\nimport InfoTooltip from './components/InfoTooltip';\n\nimport { CurrentUserContext } from './contexts/CurrentUserContext.js';\n\nimport './App.css';\nimport logo from './images/header__logo.svg';\nimport imgAvatar from './images/profile__photo.png';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isRemoveCardPopupOpen, setIsRemoveCardPopupOpen] = React.useState(false);\n  const [isViewCardPopupOpen, setIsViewCardPopupOpen] = React.useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState(false);\n\n  const [infoTooltipStatus, setInfoTooltipStatus] = React.useState(true);\n\n  const [isUserLoggedIn, setIsUserLoggedIn] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    about: '',\n    auth: {},\n    avatar: imgAvatar,\n  });\n  // const currentUser = React.createContext();\n\n  const [cards, setCards] = React.useState([]);\n\n  let history = useHistory();\n\n  React.useEffect(() => {\n    // setInterval(getCards, 10000);\n    getCards();\n  }, [isUserLoggedIn]);\n\n  function getCards() {\n    api\n      .getCards()\n      .then((result) => {\n        setCards(result);\n      })\n      .catch(() => {\n        console.error('can`t get userInfo');\n      });\n  }\n\n  React.useEffect(() => {\n    auth\n      .checkCurrentToken()\n      .then(({ data }) => {\n        if (data) {\n          setIsUserLoggedIn(true);\n          history.push('/');\n          return data;\n        }\n      })\n      .then((data) => {\n        api\n          .getCurrentUserInfo()\n          .then((result) => {\n            console.log({ auth: data, ...result });\n            setCurrentUser({ auth: data, ...result });\n          })\n          .catch(() => {\n            console.error('can`t get userInfo');\n          });\n      })\n      .catch((err) => {\n        console.error('something wrong');\n      });\n  }, [isUserLoggedIn]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsRemoveCardPopupOpen(false);\n    setIsViewCardPopupOpen(false);\n    setIsInfoTooltipPopupOpen(false);\n    setSelectedCard();\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsViewCardPopupOpen(true);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    if (isLiked) {\n      return api\n        .setLikeCardOff(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n          setCards(newCards);\n        })\n        .catch(() => {\n          console.error('can`t unset like');\n        });\n    } else {\n      return api\n        .setLikeCardOn(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n          setCards(newCards);\n        })\n        .catch(() => {\n          console.error('can`t set like');\n        });\n    }\n  }\n\n  function handleCardRemove(card) {\n    setSelectedCard(card);\n    setIsRemoveCardPopupOpen(true);\n  }\n\n  function handleOnDeleteCard(func) {\n    func(true);\n    api\n      .removeCard(selectedCard._id)\n      .then(() => {\n        setCards(cards.filter((card) => card._id !== selectedCard._id));\n        closeAllPopups();\n      })\n      .catch(() => {\n        console.error('can`t delete cards');\n      })\n      .finally(() => {\n        func(false);\n      });\n  }\n\n  function handleUpdateUser(obj, func) {\n    func(true);\n    api\n      .updateCurrentUserInfo(obj.name, obj.about)\n      .then((response) => {\n        setCurrentUser(response);\n        closeAllPopups();\n      })\n      .catch(() => {\n        console.error('can`t update userinfo');\n      })\n      .finally(() => {\n        func(false);\n      });\n  }\n\n  function handleUpdateAvatar(obj, func) {\n    func(true);\n    api\n      .updateCurrentUserPhoto(obj.avatar)\n      .then((response) => {\n        setCurrentUser(response);\n        closeAllPopups();\n      })\n      .catch(() => {\n        console.error('can`t update user avatar');\n      })\n      .finally(() => {\n        func(false);\n      });\n  }\n\n  function handleAddPlaceSubmit(obj, func) {\n    func(true);\n    api\n      .addNewCard(obj.name, obj.link)\n      .then((response) => {\n        setCards([response, ...cards]);\n        closeAllPopups();\n      })\n      .catch(() => {\n        console.error('can`t add card');\n      })\n      .finally(() => {\n        func(false);\n      });\n  }\n\n  function handleLogin(obj, func) {\n    auth\n      .signin(obj.email, obj.password)\n      .then((data) => {\n        setIsUserLoggedIn(true);\n        history.push('/');\n      })\n      .catch(() => {\n        console.error('can`t login');\n        setInfoTooltipStatus(false);\n        setIsInfoTooltipPopupOpen(true);\n      })\n      .finally(() => {\n        func(false);\n      });\n  }\n\n  function handleLogoff() {\n    localStorage.removeItem('token');\n    setIsUserLoggedIn(false);\n    history.push('/');\n  }\n\n  function handleRegister(obj, func) {\n    auth\n      .signup(obj.email, obj.password)\n      .then((data) => {\n        setIsUserLoggedIn(true);\n        history.push('/signin');\n        setInfoTooltipStatus(true);\n        setIsInfoTooltipPopupOpen(true);\n      })\n      .catch(() => {\n        console.error('can`t register');\n        setInfoTooltipStatus(false);\n        setIsInfoTooltipPopupOpen(true);\n      })\n      .finally(() => {\n        func(false);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='content'>\n        <Header logo={logo} onLogoff={handleLogoff} />\n        <Switch>\n          <Route path='/signin'>\n            <Login onLogin={handleLogin} />\n          </Route>\n          <Route path='/signup'>\n            <Register onRegister={handleRegister} />\n          </Route>\n\n          <ProtectedRoute path='/' loggedIn={isUserLoggedIn}>\n            <Main\n              cards={cards}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardRemove={handleCardRemove}\n            >\n              <EditAvatarPopup\n                isOpen={isEditAvatarPopupOpen}\n                onClose={closeAllPopups}\n                onUpdateAvatar={handleUpdateAvatar}\n              />\n              <EditProfilePopup\n                isOpen={isEditProfilePopupOpen}\n                onClose={closeAllPopups}\n                onUpdateUser={handleUpdateUser}\n              />\n\n              <AddPlacePopup\n                key={Math.random()}\n                isOpen={isAddPlacePopupOpen}\n                onClose={closeAllPopups}\n                onAddPlace={handleAddPlaceSubmit}\n              />\n\n              <RemoveCardPopup\n                card={selectedCard}\n                isOpen={isRemoveCardPopupOpen}\n                onClose={closeAllPopups}\n                onDeleteCard={handleOnDeleteCard}\n              />\n\n              <PopupWithImage\n                card={selectedCard}\n                isOpen={isViewCardPopupOpen}\n                onClose={closeAllPopups}\n              ></PopupWithImage>\n            </Main>\n          </ProtectedRoute>\n        </Switch>\n        <InfoTooltip\n          isOpen={isInfoTooltipPopupOpen}\n          onClose={closeAllPopups}\n          isSuccess={infoTooltipStatus}\n        ></InfoTooltip>\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}